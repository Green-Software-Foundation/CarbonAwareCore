<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-overview">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Overview | Carbon Aware SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://green-software-foundation.github.io/carbon-aware-sdk/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://green-software-foundation.github.io/carbon-aware-sdk/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://green-software-foundation.github.io/carbon-aware-sdk/docs/overview"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overview | Carbon Aware SDK"><meta data-rh="true" name="description" content="There are several ways to consume CarbonAware data for your use case. Each"><meta data-rh="true" property="og:description" content="There are several ways to consume CarbonAware data for your use case. Each"><link data-rh="true" rel="icon" href="/carbon-aware-sdk/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://green-software-foundation.github.io/carbon-aware-sdk/docs/overview"><link data-rh="true" rel="alternate" href="https://green-software-foundation.github.io/carbon-aware-sdk/docs/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://green-software-foundation.github.io/carbon-aware-sdk/docs/overview" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/carbon-aware-sdk/blog/rss.xml" title="Carbon Aware SDK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/carbon-aware-sdk/blog/atom.xml" title="Carbon Aware SDK Atom Feed"><link rel="stylesheet" href="/carbon-aware-sdk/assets/css/styles.3d2f3b3d.css">
<link rel="preload" href="/carbon-aware-sdk/assets/js/runtime~main.9670c575.js" as="script">
<link rel="preload" href="/carbon-aware-sdk/assets/js/main.3eaeed5a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/carbon-aware-sdk/"><div class="navbar__logo"><img src="/carbon-aware-sdk/img/GSF-logo.jpg" alt="Carbon Aware SDK Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/carbon-aware-sdk/img/GSF-logo.jpg" alt="Carbon Aware SDK Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Carbon Aware SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/carbon-aware-sdk/docs/quickstart">Tutorial</a><a href="https://greensoftware.foundation/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GSF</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/carbon-aware-sdk/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/carbon-aware-sdk/docs/quickstart">Setting up and using the Carbon Aware SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/carbon-aware-sdk/docs/test">test</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/carbon-aware-sdk/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/carbon-aware-sdk/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/carbon-aware-sdk/docs/category/architecture">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/carbon-aware-sdk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Overview</h1><p>There are several ways to consume CarbonAware data for your use case. Each
approach surfaces the same data for the same call (e.g. the CLI should not give
you different data than the WebAPI for the same query). We provide a number of
different endpoints to provide the most flexibility to integrate to your
environment:</p><ul><li><p>You can run the application using the <a href="/carbon-aware-sdk/docs/src/CarbonAware.CLI">CLI</a> and refer
to more documentation <a href="/carbon-aware-sdk/docs/tutorial-basics/carbon-aware-cli">here</a>.</p></li><li><p>You can build a container containing the <a href="/carbon-aware-sdk/docs/src/CarbonAware.WebApi">WebAPI</a>
and connect via REST requests and refer to more documentation
<a href="/carbon-aware-sdk/docs/tutorial-basics/carbon-aware-webapi">here</a>.</p></li><li><p>You can reference the <a href="/carbon-aware-sdk/docs/src/GSF.CarbonAware">Carbon Aware C# Library</a> in your
projects and make use of its functionalities and features.</p></li><li><p>(Future) You can install the Nuget package and make requests directly.
(<a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk/issues/40" target="_blank" rel="noopener noreferrer">tracked here</a>)</p></li></ul><p>Each of these has configuration requirements which are detailed below. You can
also visit the <a href="/carbon-aware-sdk/docs/quickstart">quickstart.md</a> guide for a step-by-step
process for running the CLI locally, deploying the Web API locally or in the
cloud, polling the API via HTTP requests or generating and using client
libraries (Python example).</p><p>For more detailed architecture and design decisions around the Carbon Aware SDK,
refer to the <a href="/carbon-aware-sdk/docs/architecture">Architecture directory</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="carbon-aware-library">Carbon Aware Library<a href="#carbon-aware-library" class="hash-link" aria-label="Direct link to Carbon Aware Library" title="Direct link to Carbon Aware Library">​</a></h2><p>The Carbon Aware SDK provides a C# Client Library with handlers that replicates
the Web API, CLI and SDK functionality. See:</p><ul><li><a href="/carbon-aware-sdk/docs/tutorial-extras/carbon-aware-library">carbon-aware-library.md</a> for more information
about library features.</li><li><a href="/carbon-aware-sdk/docs/tutorial-extras/packaging">packaging.md</a> for details on how to package and consume the
library.</li><li><a href="/carbon-aware-sdk/docs/tutorial-extras/packaging">packaging.md</a>
for instructions on integrating the library in other projects with dependency
injection.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre-requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre-requisites" title="Direct link to Pre-requisites">​</a></h2><p>Make sure you have installed the following pre-requisites to setup your local
environment:</p><ul><li>dotnet core SDK
<a href="https://dotnet.microsoft.com/en-us/download" target="_blank" rel="noopener noreferrer">https://dotnet.microsoft.com/en-us/download</a></li><li>Access to one (or all) of the supported external data APIs<ul><li>WattTime account - See
<a href="https://www.watttime.org/api-documentation/#register-new-user" target="_blank" rel="noopener noreferrer">instruction on WattTime</a>
for details (or use our python samples as described
<a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk/blob/dev/samples/watttime-registration/readme.md" target="_blank" rel="noopener noreferrer">here</a>).</li><li>ElectricityMaps account - See
<a href="https://api-portal.electricitymaps.com/home" target="_blank" rel="noopener noreferrer">instruction on ElectricityMaps</a>
for details (or setup a
<a href="https://api-portal.electricitymaps.com" target="_blank" rel="noopener noreferrer">free trial</a>). Note that the free
trial has some
<a href="/carbon-aware-sdk/docs/tutorial-extras/selecting-a-data-source#restrictions-electricitymaps-free-trial-user">restrictions</a></li><li>ElectricityMapsFree account - See
<a href="https://www.co2signal.com/#Subscriber-Email" target="_blank" rel="noopener noreferrer">instruction on ElectricityMapsFree</a>
for details.</li></ul></li></ul><p>Alternatively, you can also set up your environment using VSCode Remote
Containers (Dev Container):</p><ul><li>Docker</li><li>VSCode (it is recommended to work in a Dev Container)</li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" target="_blank" rel="noopener noreferrer">Remote Containers extension for VSCode</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-sources">Data Sources<a href="#data-sources" class="hash-link" aria-label="Direct link to Data Sources" title="Direct link to Data Sources">​</a></h2><p>We support multiple data sources for carbon data. At this time, a JSON file,
<a href="https://www.watttime.org/" target="_blank" rel="noopener noreferrer">WattTime</a>,
<a href="https://www.electricitymaps.com/" target="_blank" rel="noopener noreferrer">ElectricityMaps</a>, and
<a href="https://www.co2signal.com/" target="_blank" rel="noopener noreferrer">ElectricityMapsFree</a> are supported. To use WattTime
data or Electricity Maps data, you&#x27;ll need to acquire a license from them and
set the appropriate configuration information.</p><p>You can also visit the
<a href="/carbon-aware-sdk/docs/tutorial-extras/selecting-a-data-source">selecting-a-date-source.md</a> guide for more
information on data sources options, and
<a href="/carbon-aware-sdk/docs/architecture/data-sources">data-sources.md</a> for detailed architecture
decisions around integrating different data providers into the carbon aware SDK.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2><p>This project uses the dotnet standard
<a href="https://docs.microsoft.com/en-us/dotnet/core/extensions/configuration" target="_blank" rel="noopener noreferrer">Microsoft.Extensions.Configuration</a>
mechanism, which allows the user to configure their environment variables in a
unified view while making use of different configuration sources. Review the
link to understand more about the <code>IConfiguration</code> type.</p><p>The WebAPI project uses standard configuration sources provided by
<a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/" target="_blank" rel="noopener noreferrer">ASPNetCore</a>.
Please review this link to understand how configuration is loaded and the
priority of that configuration.</p><p>Please note that configuration is hierarchical. The last configuration source
loaded that contains a configuration value will be the value that&#x27;s used. This
means that if the same configuration value is found in both <code>appsettings.json</code>
and as an environment variable, the value from the environment variable will be
the value that&#x27;s applied.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration options" title="Direct link to Configuration options">​</a></h3><p>See <a href="/carbon-aware-sdk/docs/tutorial-extras/configuration">configuration.md</a> for details about how to
configure specific components of the application.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment variables" title="Direct link to Environment variables">​</a></h4><p>When adding values via environment variables, we recommend that you use the
double underscore form, rather than the colon form. Colons won&#x27;t work in
non-windows environment. For example:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token assign-left variable" style="color:#36acaa">DataSources__EmissionsDataSource</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;WattTime&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that double underscores are used to represent dotted notation or child
elements that you see in the JSON below. For example, to set proxy information
using environment variables, you&#x27;d do this:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  DataSources__Configurations__WattTime__UseProxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="local-project-settings">Local project settings<a href="#local-project-settings" class="hash-link" aria-label="Direct link to Local project settings" title="Direct link to Local project settings">​</a></h4><p>For local-only settings you can use environment variables,
<a href="https://learn.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-6.0&amp;tabs=windows#secret-manager" target="_blank" rel="noopener noreferrer">the Secret Manager tool</a>
, or an untracked Development appsettings file to override the default project
settings.</p><p>To use the settings file, rename a copy of the template called
<code>appsettings.Development.json.template</code> to <code>appsettings.Development.json</code> and
remove the first line of (invalid) comments. Then update any settings according
to your preferences.</p><blockquote><p>Wherever possible, the projects leverage the
<a href="https://learn.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-6.0#default-application-configuration-sources" target="_blank" rel="noopener noreferrer">default .NET configuration</a>
expectations. Thus, they can be configured using any file matching the format:
<code>appsettings.&lt;ENV&gt;.json</code>. Where <code>&lt;ENV&gt;</code> is the value of the
<code>ASPNETCORE_ENVIRONMENT</code> environment variable. By convention projects tend to
use the provided HostEnvironment constants <code>Development</code>, <code>Staging</code>, and
<code>Production</code>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="publish-webapi-with-container">Publish WebAPI with container<a href="#publish-webapi-with-container" class="hash-link" aria-label="Direct link to Publish WebAPI with container" title="Direct link to Publish WebAPI with container">​</a></h2><p>You can publish Web API for Carbon Aware SDK with container. These instructions
show how to build / run container image with <a href="https://podman.io/" target="_blank" rel="noopener noreferrer">Podman</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-container-image">Build container image<a href="#build-container-image" class="hash-link" aria-label="Direct link to Build container image" title="Direct link to Build container image">​</a></h3><p>Following commands build the container which named to <code>carbon-aware-sdk-webapi</code>
from sources.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$cd</span><span class="token plain"> src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$podman</span><span class="token plain"> build -t carbon-aware-sdk-webapi -f CarbonAware.WebApi/src/Dockerfile </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-web-api-container">Run Web API container<a href="#run-web-api-container" class="hash-link" aria-label="Direct link to Run Web API container" title="Direct link to Run Web API container">​</a></h3><p>Carbon Aware SDK Web API publishes the service on Port 80, so you need to map it
to local port. Following commands maps it to Port 8080.</p><p>You also need to configure the SDK with environment variables. They are minimum
set when you use WattTime or ElectricityMaps or ElectricityMapsFree as a data
source.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">podman</span><span class="token plain"> run -it --rm -p </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__ForecastDataSource</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;WattTime&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__WattTime__Type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;WattTime&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__WattTime__Username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wattTimeUsername&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__WattTime__Password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wattTimePassword&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  carbon-aware-sdk-webapi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">podman</span><span class="token plain"> run -it --rm -p </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__ForecastDataSource</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ElectricityMaps&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__ElectricityMaps__Type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ElectricityMaps&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__ElectricityMaps__APITokenHeader</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;auth-token&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__ElectricityMaps__APIToken</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;electricityMapsToken&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  carbon-aware-sdk-webapi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">podman</span><span class="token plain"> run -it --rm -p </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__EmissionsDataSource</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ElectricityMapsFree&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__ElectricityMapsFree__Type</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ElectricityMapsFree&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -e </span><span class="token assign-left variable" style="color:#36acaa">DataSources__Configurations__ElectricityMapsFree__token</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&lt;YOUR_CO2SIGNAL_TOKEN&gt;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  carbon-aware-sdk-webapi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you success to run the container, you can access it via HTTP client.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -s http://localhost:8080/emissions/forecasts/current?location</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">westus2 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;generatedAt&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2022-08-10T14:10:00+00:00&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;optimalDataPoint&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;location&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GCPD&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;timestamp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2022-08-10T20:40:00+00:00&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;duration&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">440.4361702590741</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token builtin class-name">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information on containerization, refer to the markdown in
<a href="/carbon-aware-sdk/docs/tutorial-basics/containerization">containerization.md</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk/docs/overview.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/carbon-aware-sdk/docs/quickstart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setting up and using the Carbon Aware SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#carbon-aware-library" class="table-of-contents__link toc-highlight">Carbon Aware Library</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites</a></li><li><a href="#data-sources" class="table-of-contents__link toc-highlight">Data Sources</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#configuration-options" class="table-of-contents__link toc-highlight">Configuration options</a></li></ul></li><li><a href="#publish-webapi-with-container" class="table-of-contents__link toc-highlight">Publish WebAPI with container</a><ul><li><a href="#build-container-image" class="table-of-contents__link toc-highlight">Build container image</a></li><li><a href="#run-web-api-container" class="table-of-contents__link toc-highlight">Run Web API container</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/carbon-aware-sdk/docs/overview">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/green-software-foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/gsfcommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://greensoftwarefdn.slack.com/archives/C02JRAV4QEP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack (private members only)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://greensoftware.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">greensoftware.foundation</a></li><li class="footer__item"><a href="https://github.com/Green-Software-Foundation/carbon-aware-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 GSF, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/carbon-aware-sdk/assets/js/runtime~main.9670c575.js"></script>
<script src="/carbon-aware-sdk/assets/js/main.3eaeed5a.js"></script>
</body>
</html>